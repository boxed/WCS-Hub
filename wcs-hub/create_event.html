<!doctype html>
<html ng-app="WCSHub">
    <head>
        <title>Create event</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>
        <script src="/static/wcs.js"></script>
        <link href="/static/style.css" rel="stylesheet"/>
        <script>
            $(function() {
                $( ".datepicker" ).datepicker({dateFormat:'yy-mm-dd'});
            });
        </script>
    </head>
    <body ng-controller="CreateEventCtrl" >
        <div id="preview" class="container" style="float: right">
            <h1>Preview of sign up form</h1>
            <div id="preview-contents" data-ng-include data-src src="'/static/sign_up.html'"></div>
        </div>
        <div class="container">
            <h1>Create event</h1>

            <table>
                <tr><td><label for="name">Event name:</label></td><td><input id="name" ng-model="event.name" type="text" /></td></tr>
                <tr><td><label for="event_date">Event start date:</label></td><td><input id="event_date" class="datepicker" ng-model="event.date" ui-date /></td></tr>
                <tr><td><label for="registration_opens">Registration opens:</label></td><td><input id="registration_opens" class="datepicker" ng-model="event.registration_opens" ui-date /></td></tr>
                <tr><td><label for="registration_closes">Registration closes:</label></td><td><input id="registration_closes" class="datepicker" ng-model="event.registration_closes" ui-date /></td></tr>

                <tr></tr>

                <tr><td colspan="2"><h3>Available competitions</h3></td></tr>

                <tr>
                    <th ng-repeat="(group, competitions) in event.competitions">
                        {{ group }}
                    </th>
                </tr>

                <tr>
                    <td ng-repeat="(group, competitions) in event.competitions">
                        <span ng-repeat="comp in competitions" checkbox ng-title="comp.name" ng-model="comp.show"></span>
                    </td>
                </tr>
            </table>

            <br />

            <span class="button" ng-click="create()">Create</span>
        </div>
        <div id="footer">
            Powered by WCS-Hub. The source code is available on <a href="https://github.com/boxed/WCS-Hub">Github</a>.
        </div>
    </body>
</html>